### 表头
* 统计图实列
```php
        $year = input('year/d', date('Y'));
       
        //表头数据
        $this->assign('data', $data);
        $where[] = ['year', 'eq', $year];

        $in = $this->dataModel->where($where)->where(['type' => 1])->sum('money') ?: 1;
        $out = $this->dataModel->where($where)->where(['type' => 2])->sum('money') ?: 1;
         
        $y = date('Y');

        $years = [];

        for ($i = 2018; $i <= $y; $i += 1) {
            $years[$i] = ['text' => $i . '', 'url' => url('index', ['year' => $i])];
        }

        $in = round($in / 10000, 2);
        $out = round($out / 10000, 2) * -1;
        $this->assign('year', $year);
        $this->assign('years', $years);
        $this->assign('in', $in);
        $this->assign('out', $out);
        //渲染表头，模板文件:/admin/view/funding/header.html
        $builder->content()->fetch('header');

        //表格数据
        $table = $builder->table();
        $table->show('id', 'ID');
        $table->show('money', '金额(元)');
        $table->match('type', '类型')->options([1 => '<label class="label label-success">收入</label>', 2 => '<label class="label label-danger">支出</label>']);
        $table->show('record_date', '日期');
        $table->show('from', '项目');
        $table->show('handler', '经手人');
        $table->show('remark', '备注');
        $table->show('status_text', '状态');
        $table->show('create_time', '添加时间');
        $table->show('update_time', '修改时间');
        //略...

```
`/admin/view/funding/header.html`
```html
<style>
  #years.nav>li>a {
    padding: 5px 5px;
  }

  .panel-body {
    padding-top: 2px;
  }
</style>
<div class="row">
  <div class="col-md-4">
    <ul class="nav nav-tabs nav-justified" id="years">
      {volist name="years" id="y"}
      {if condition="$key eq $year"}
      <li class="nav-item active">
        <a href="{$y.url}">{$y.text}</a>
      </li>
      {else/}
      <li class="nav-item">
        <a href="{$y.url}">{$y.text}</a>
      </li>
      {/if}
      {/volist}
    </ul>
  </div>
  <a class="label label-primary pull-right m-r-10" title="显示/隐藏统计图" role="button" data-toggle="collapse" href="#pies"
    aria-expanded="true" aria-controls="pies">
    -
  </a>
</div>
<div class="row collapse in" id="pies" aria-expanded="true">
  <div class="col-md-4">
    <div id="container1" style="height: 300px;"></div>
  </div>
  <div class="col-md-4">
    <div id="container2" style="height: 100%"></div>
  </div>
  <div class="col-md-4">
    <div id="container3" style="height: 100%"></div>
  </div>
</div>
<!--图表插件-->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
<script type="text/javascript">
  var dom1 = document.getElementById("container1");
  var myChart1 = echarts.init(dom1);
  var option1 = {
    title: {
      text: '经费构成',
      subtext: '{$year}年',
      left: 'center'
    },
    tooltip: {
      trigger: 'item',
      formatter: '{a} <br/>{b} : {c}万 ({d}%)'
    },
    legend: {
      orient: 'vertical',
      left: 'left',
      data: ['增加', '支出']
    },
    series: [{
      name: '收支',
      type: 'pie',
      radius: '55%',
      center: ['50%', '60%'],
      data: [{
          value: '{$in}',
          name: '增加'
        },
        {
          value: '{$out}',
          name: '支出'
        },
      ],
      emphasis: {
        itemStyle: {
          shadowBlur: 10,
          shadowOffsetX: 0,
          shadowColor: 'rgba(0, 0, 0, 0.5)'
        }
      }
    }]
  };
  if (option1 && typeof option1 === "object") {
    myChart1.setOption(option1, true);
  }
</script>
```